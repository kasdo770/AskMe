<html>
    <head>
        <title>اسئلة</title>
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        <style> 

            :root{
              --first-background-gradient:#f5e6ff;
              --last-background-gradient:#fff;
              --header:#000;
              --header-text:#1C1C1C;
              --footer:#2D2D2D;
              --button-color:#6B0085;
              --button-color-hover:#6a0085cb;
              --button-color-active:#5c0272;
              --alert-button-color:#ed4337;
              --success-button-color:#53A653;
              --info-button-color:#b39800;
            }
                /* _______________________________________Error Button_____________________________________________ */
            .flash-container{
              display: flex;
              justify-content: center;
            }
             .succes{
              width: fit-content;
               background-color: #53A653;
               opacity: 90%;
               color: white;
             }
             .Info{
              width: fit-content;
               background-color: #b39800;
               opacity: 90%;
               color: white;
             }
             .alert{
                width: fit-content;
               background-color: #ed4337;
               opacity: 90%;
               color: white;
             }
             .closebtn {
               margin-left: 15px;
               color: white;
               font-weight: bold;
               float: right;
               font-size: 22px;
               line-height: 20px;
               cursor: pointer;
               transition: 0.3s;
             }
             .closebtn:hover {
               color: black;
             }
             </style>
             {% with messages = get_flashed_messages(with_categories=true) %} {% if
               messages %} {% for category, message in messages %}
               {% if category =='success' %}
                   <div class="flash-container">
                    <div dir="rtl" class="succes">
                      <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
                      {{message}}
                    </div>
                  </div>
                  {% elif category =='error' %}
                  <div class="flash-container">
                   <div dir="rtl" class="alert">
                     <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
                     {{message}}
                   </div>
                 </div>
               {%else%}
               <div class="flash-container">
                <div dir="rtl" class="Info">
                    <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
                    {{message}}
                  </div>
                </div>
       
               {% endif %} {% endfor %} {% endif %} {% endwith %}
        <div id="sidenavv" class="sidenav">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <a href="#">About</a>
        </div>

        <div class="topnav">
            <span id="menubutton" onclick="openNav()">&#9776;</span>

            {% if current_user.kind == "student"%}
            <button id="newquestionbtn" onclick="window.location.href ='http://127.0.0.1:5000/create/post'">سؤال جديد</button>
            {%endif%}
            <div class="logo">
                <p id="logo">ffff</p>
            </div>
        </div>
            <div class="newquestionh1flex">
                <h1 id="newquestionh1"><b>الاسئلة الجديدة</b></h1>
                </div>
                {%for item in post%}
                
                <div class="newq">
                    {%if item.title|length < 45 %}
                    <h2 class="card_title "> {{item.title}}</h2>
                    {%elif item.title|length < 65 and item.title|length > 45 %}
                    <h3 class="card_title "> {{item.title}}</h3>
                    {%elif item.title|length < 85 and item.title|length > 65 %}
                    <h4 class="card_title "> {{item.title}}</h4>
                    {%endif%}
                    {%if current_user.id == item.user.id%}
                    <h3 class="card_by">بواسطة: انت </h3> 
                    
                    
                    {%else%}
                    <h3 class="card_by">بواسطة:{{item.user.username}} </h3>          
                    {%endif%}                
                    <h5 class = "subject">{{item.subject}}</h5>     
                    <h6 class="card_answer">{{item.datetime}}</h6>   
                    <p class="cntrline"><p>

                        <div class="newqbtns">
                    {%if current_user.id == item.user.id%}
                    <button onclick="window.location.href = 'http://127.0.0.1:5000/view-post/{{item.id}}'" class="deleteXeditXanswer" id="answer">ألقي نظرة</button>
                    {%else%}
                    <button onclick="window.location.href = 'http://127.0.0.1:5000/view-post/{{item.id}}'" class="deleteXeditXanswer" id="answer">اجب عليه</button>
                    {%endif%}

                    {%if current_user.id == item.user.id%}
                    <button onclick="window.location.href = 'http://127.0.0.1:5000/delete-post/{{item.id}}'" class="deleteXeditXanswer" id="delete">حذف</button>
                    <button onclick="window.location.href = 'http://127.0.0.1:5000/update-post/{{item.id}}'" class="deleteXeditXanswer" id="edit">تعديل</button>
                    {%endif%}
                         </div>
                    
                </div>

                    <div>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                    </div>

                    {%endfor%}
                    {%for item in second_post%}
                
                <div class="newq">
                    <h2 class="card_title "> {{item.title}}</h2>
                    {%if current_user.id == item.user.id%}
                    <h3 class="card_by">بواسطة: انت </h3> 
                    
                    
                    {%else%}
                    <h3 class="card_by">بواسطة:{{item.user.username}} </h3>          
                    {%endif%}                
                    <h5 class = "subject">{{item.subject}}</h5>     
                    <h6 class="card_answer">{{item.datetime}}</h6>   
                    <p class="cntrline"><p>

                        <div class="newqbtns">
                    {%if current_user.id == item.user.id%}
                    <button onclick="window.location.href = 'http://127.0.0.1:5000/view-post/{{item.id}}'" class="deleteXeditXanswer" id="answer">ألقي نظرة</button>
                    {%else%}
                    <button onclick="window.location.href = 'http://127.0.0.1:5000/view-post/{{item.id}}'" class="deleteXeditXanswer" id="answer">اجب عليه</button>
                    {%endif%}

                    {%if current_user.id == item.user.id%}
                    <button onclick="window.location.href = 'http://127.0.0.1:5000/delete-post/{{item.id}}'" class="deleteXeditXanswer" id="delete">حذف</button>
                    <button onclick="window.location.href = 'http://127.0.0.1:5000/update-post/{{item.id}}'" class="deleteXeditXanswer" id="edit">تعديل</button>
                    {%endif%}
                         </div>
                    
                </div>

                    <div>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                    </div>

                    {%endfor%}



        
        <script>
            function openNav() {
            document.getElementById("sidenavv").style.width = "220px";
            }
            
            function closeNav() {
            document.getElementById("sidenavv").style.width = "0";
            }
        </script>

        <style>
            body{
                background-image: linear-gradient(#efd4ffec,#ffffff);
                font-family:Lucida Sans, Lucida Sans Regular, Lucida Grande, Lucida Sans Unicode, Geneva, Verdana, sans-serif;
                font-size: 18px;
            }

            #newquestionbtn{
                margin-top: -2%;
                margin-left: 3%;
                font-size: 16px;
                background-color: transparent;
                color: #6B0085 ;
                border-color: #6B0085;
                border-radius: 0.25em;
                padding: 0.3% 0.6% 0.3% 0.6%;
                transition-timing-function: ease-in;
                transition: 0.5s;
                cursor: pointer;
            
            }
            
             #newquestionbtn:hover{
                background-color: #faf6f6;
            }
            
            #newquestionbtn:active{
                background-color: #a700c9;
            }
            
            #menubutton{
                font-size:32px;
                cursor: pointer;
                margin-left: 3%;
                margin-top: -2%;
                transition-timing-function: ease-in;
                transition: 1s;
            }
            
            .logo{
                margin-left: 79%;
                font-size: 40px;
                margin-top:-2%;
                color:#6B0085 ;
                transition-timing-function: ease-in;
                transition: 1s;
            
            }
            
            .topnav{
                display: flex;
                align-items: center;
                margin-top: 2%;
            
            }
            
            .sidenav{
              height: 100%;
              width: 0;
              position: fixed;
              top: 0;
              left: 0;
              background-image:linear-gradient(#e3bdf8ec,#fae8e8);
              overflow-x: hidden;
              transition: 0.5s;
              padding-top: 60px;
              
            }  

            .button:hover{
                background-color: #6a0085cb;
            }
            .button:active {
                background-color: #5c0272;
            } 
            
            .sidenav a{
              padding: 8px 8px 8px 32px;
              text-decoration: none;
              font-size: 30px;
              color: #000000;
              display: block;
              transition: 0.3s;
            }
            
            .sidenav a:hover{
              color: #f1f1f1;
            }
            
            .sidenav .closebtn{
              position: absolute;
              top: 0;
              right: 22px;
              font-size: 32px;
              margin-left: 50px;
            }
            
            
            
            #newquestionh1{              
                display: flex;
                font-size: 28px;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                margin-top: -1%;
                margin-bottom: 9%;
                transition-timing-function: ease-in;
                transition: 0.5s;

                
            }
            
            .newq{                          
                display: flex;
                flex-direction: column;
                float: right;
                align-items: center;
                margin-right: 27%;
                margin-top: -1.8%;
                transition-timing-function: ease-in;
                transition: 1s;
            }
            .card_title{
                justify-content: right;
                align-self: flex-end;
                font-weight: bold;  
                transition-timing-function: ease-in;
                transition: 1s;          
            }
            .card_answer{
                margin-top: 0%;
                justify-content: right;
                align-self: flex-end;
                font-weight: bold; 
                transition-timing-function: ease-in;
                transition: 1s;          
            }
            .card_by{
                margin-top: 0%;
                justify-content: right;
                align-self: flex-end;
                font-weight: bold;
                transition-timing-function: ease-in;
                transition: 1s;
            
            }
            .subject{
                background-color: #9149a4;
                color:white;
                margin-top: 0%;
                padding: 1.5%;
                justify-content: right;
                align-self: flex-end;
                font-weight: bold;
                border-radius: 0.25em;
                transition-timing-function: ease-in;
                transition: 1s;
            
            }

            .cntrline{
                border-left: 600px solid #6B0085;
                height: 2px;
                transition: 0.3s;
            }

            .newqbtns{
                display: flex;
                flex-direction: row;
                justify-content: center;
                align-items: center;
                margin-top: -39%;
                margin-right: 80%;
            }


            #answer{
                font-size: 18px;
                margin-right: -40%;
                background-color: #7f039e;
                color: white;
                border:none;
                border-radius: 0.25em;
                padding: 5px;
                transition-timing-function: ease-in;
                transition: 0.5s;
                cursor: pointer;
            }

            #edit{
                margin-bottom: -90%;
                margin-left: 30%;
                font-size: 17px;
                padding: 5px;
                background-color: transparent;
                color: #6B0085 ;
                border-color: #6B0085;
                border-radius: 0.25em;
                padding: 0.3% 0.6% 0.3% 0.6%;
                transition-timing-function: ease-in;
                transition: 0.5s;
                cursor: pointer;
            }
            #delete{
                margin-bottom: -90%;
                margin-left: -30%;
                font-size: 17px;
                padding: 5px;
                background-color: transparent;
                color: #6B0085 ;
                border-color: #6B0085;
                border-radius: 0.25em;
                padding: 0.3% 0.6% 0.3% 0.6%;
                transition-timing-function: ease-in;
                transition: 0.5s;
                cursor: pointer;
            }

            
            
            #answer:hover{
                background-color: #6a0085cb;
            }
            
            #answer:active{
                background-color: #5c0272;
            }

            #delete:hover{
                background-color: #faf6f6;
            }

            #edit:hover{
                background-color: #faf6f6;
            }

            #delete:active{
                background-color: #a700c9;
            }
            #edit:active{
                background-color: #a700c9;
            }
            



            @media screen and (max-width: 850px) {

                body{
                    font-size: 14px;
                }
                .newq{
                   width: 100%;

                   margin-right: 5%;
                }

                .newqbtns{

                    margin-top: -28%;
                    margin-left: 20%;

                }
                #delete{
                    font-size: 13.5px;
                }
                #edit{
                    font-size: 13.5px;
                    margin-left: 1%;
                }
                #answer{
                    font-size: 14px;
                    margin-left: -9px;
                }
                .cntrline{
                    border-left: 400px solid #6B0085;
                    margin-left: 9%;
                }
                .logo{
                    margin-left: 67%;
                }
                #newquestionh1{
                    font-size: 25px;
                    margin-bottom: 14%;
                }



             }

             @media screen and (min-device-width:2000px) and (max-device-width:3000px) {

                body{
                    font-size: 30px;
                }

                .newq{
                    margin-right: 38%;
                }
                .cntrline{
                    border-left: 700px solid #6B0085;
                    height: 3px;
                }
                #delete{
                    font-size: 30px;
                }
                #edit{
                    font-size: 30px;
                }
                #answer{
                    font-size: 33px;
                }
                .logo{
                    font-size: 70px;
                }
                #newquestionh1{
                    font-size: 50px;
                }

                #newquestionbtn{
                    font-size: 43px;
                }
                #menubutton{
                    font-size: 50px;
                }
             }


             @media screen and (min-device-width:821px) and (max-device-width:1075px) {

                .logo{
                    margin-left: 70% !important;
                }

                .newq{
                    margin-right: 20%;
                }


             }

            @media screen and (min-device-width:50px) and (max-device-width:820px) {
                body{
                    font-size: 27px;
                }

                .answer{
                    margin-top: -29%;
                    font-size: 25px;
                    margin-left: 2%;
                }
                .logo{
                    margin-left: 54%;
                    font-size: 60px;
                    margin-top:1%;
                    margin-bottom:15%;
                
                }

                #newquestionbtn{
                    margin-top: -14%;
                    margin-left: 6%;
                    font-size: 40px;
                    border-radius: 0.25em;
                    padding: 0.3% 0.6% 0.3% 0.6%;
                
                }

                #menubutton{
                    font-size:50px;
                    cursor: pointer;
                    margin-left: 4%;
                    margin-top: -14%;
                }

                #newquestionh1{              
            
                    font-size: 50px;
                    margin-top: -10%;
                    margin-bottom: 20%;
                    margin-left: 3%;
                    
                }
                .sidenav a{
                    font-size: 45px;
                }
                .sidenav .closebtn{

                    font-size: 50px;

                }

                .cntrline{
                    border-left: 640px solid #6B0085;
                    height: 2px;
                }
                .newq{
                    margin-top: -4%;
                    margin-right:15%;
                }

                #answer{
                    font-size: 25px;
                    padding: 6px;
                    margin-top: 10%;

                }
                #delete{
                    font-size: 21px;
                    padding: 5px;
                    margin-right: 16%;
                }
                #edit{
                    font-size: 21px;
                    padding: 5px;
                    margin-left: -1%;
                }
            }

        </style>

    </body>
</html>